{
  "articleId": "an-infinite-loop-caused-by-updating-a-Map-during-iteration",
  "lang": "en",
  "lastUpdateStartTime": "2025-02-14T13:27:35.546Z",
  "lastUpdateEndTime": "2025-02-14T13:28:00.337Z",
  "summaries": [
    "The author encountered an infinite loop in a Map iteration during Simstate 2.0 development. The loop occurred when iterating a Map storing React component observers. The root cause was modifying the Map during iteration: calling an observer triggered component re-renders, which unsubscribed (deleted) and resubscribed (re-added) the same function key within the loop. Though the key (function) remained identical, reinsertion during iteration caused the Map to treat it as new, perpetuating the loop. This behavior, dangerous in most languages, arises in JavaScript when altering a Map mid-iteration. The solution involved recognizing indirection-induced complexity and avoiding such mutations during iteration."
  ],
  "hash": "e79ef8687b5ba5291871116771ecd622d0e734075bd69714cda200405486decf",
  "mode": {
    "mode": "azure-ai",
    "model": "DeepSeek-R1"
  }
}